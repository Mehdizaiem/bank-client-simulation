/* Enhanced Theme System CSS – single file */

/* ——— Variables ——— */
:root{
  --primary-color:#3b82f6; /* same blue used for borders/active */
  --accent-color:#3b82f6;
  --success-color:#10b981;
  --warning-color:#f59e0b;
  --danger-color:#ef4444;
  --secondary-color:#6b7280;
  --text-color:#374151;
  --bg-color:#f8fafc;
  --card-bg:#ffffff;
  --hover-color:#e5e7eb;
  --nav-bg:#ffffff;
  --nav-text:#374151;
  --sidebar-width: 20px;     /* use 280px if your sidebar is 280px */
  --content-gap: 18px;        /* the visible spacing between sidebar and page */
}
#header-user-section,
#page-content{
  margin-left: calc(var(--sidebar-width) + var(--content-gap)) !important;
}

/* Optional: a little extra breathing room on very wide screens */
#page-content{ padding-left: 8px !important; }

/* Collapse the gap on smaller screens where the sidebar may be hidden/overlaid */
@media (max-width: 1024px){
  #header-user-section,
  #page-content{ margin-left: 0 !important; }
}
/* ——— Base ——— */
html,body{margin:0;padding:0}
body{
  background:var(--bg-color)!important;
  color:var(--text-color)!important;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  transition:all .3s ease!important;
}

/* ——— Header (compact) ——— */
#header-section,.header-container{padding:10px 20px!important;display:flex!important;align-items:center!important;justify-content:space-between!important}
#header-section h1,.header-container h1{font-size:1.7rem!important;margin:0!important;line-height:1.2!important}

/* ——— Page area ——— */
#page-content{background:var(--bg-color)!important;color:var(--text-color)!important;min-height:100vh!important;padding:20px!important}

/* ——— Sidebar buttons (bigger, fuller) ——— */
.nav-button{
  background:#fff!important;color:#0f172a!important;
  border:1px solid #e9eef7!important;border-radius:12px!important;
  padding:14px 16px!important;margin:0 14px 10px 14px!important;
  width:calc(100% - 28px)!important;text-align:left!important;
  font-size:1.02rem!important;font-weight:600!important;
  display:flex!important;align-items:center!important;gap:14px!important;
  transition:all .16s ease!important;box-shadow:0 1px 0 rgba(2,6,23,.02)!important;
}
.nav-button i{font-size:18px;min-width:18px;opacity:.95}
.nav-button:hover{
  background:rgba(59,130,246,.07)!important;
  border-color:rgba(59,130,246,.35)!important;
  color:var(--primary-color)!important;
  transform:translateX(2px)
}
.nav-button.active{
  background:var(--primary-color)!important;color:#fff!important;
  border-color:var(--primary-color)!important;
  box-shadow:0 8px 20px rgba(59,130,246,.28)!important
}

/* ——— Cards (works anywhere you use class="card") ——— */
.card{
  background:#fff;border:1px solid #e9eef7;border-radius:14px;
  box-shadow:0 8px 22px rgba(17,24,39,.07);
  transition:transform .16s ease,box-shadow .16s ease,border-color .16s ease
}
.card:hover{transform:translateY(-2px);box-shadow:0 12px 28px rgba(17,24,39,.12);border-color:#dbe5f1}
.card .card__title{font-weight:700;color:#0f172a}
.card .card__muted{color:#64748b}
.card.card--metric .card__value{font-size:2.1rem;font-weight:800}
.card.card--metric .card__delta--up{color:#10B981}
.card.card--metric .card__delta--down{color:#EF4444}

/* ——— Chart card helpers ——— */
.charts-row-2{display:grid!important;grid-template-columns:1fr 1fr!important;gap:20px!important;margin-bottom:20px!important;width:100%!important}
.chart-container{background:var(--card-bg)!important;border:1px solid var(--hover-color)!important;border-radius:12px!important;box-shadow:0 2px 12px rgba(0,0,0,.08)!important;padding:20px!important}

/* Ensure Plotly graphs are visible */
.plotly,.plotly-graph-div,.js-plotly-plot .plotly-graph-div{width:100%!important;height:100%!important;min-height:350px!important}
.dash-graph{width:100%!important;height:100%!important;min-height:350px!important}

/* ——— Inputs/Selects/Sliders ——— */
input[type="text"],input[type="number"],input[type="email"],input[type="password"],select,textarea{
  background:var(--card-bg)!important;color:var(--text-color)!important;border:1px solid var(--hover-color)!important;border-radius:6px!important;padding:8px 12px!important;transition:all .3s ease!important
}
.Select-control{background:var(--card-bg)!important;color:var(--text-color)!important;border-color:var(--hover-color)!important}
.rc-slider-track,.rc-slider-handle{background:var(--accent-color)!important;border-color:var(--accent-color)!important}

/* ——— User menu dropdown ——— */
#header-user-section .menu-card{
  background:#fff;border:1px solid #e9eef7;border-radius:14px;
  box-shadow:0 16px 40px rgba(15,23,42,.16);padding:12px;min-width:260px
}
#header-user-section .menu-card button,
#header-user-section .menu-card a{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px;border-radius:10px;width:100%;
  color:#0f172a;border:none;background:transparent;cursor:pointer;text-decoration:none
}
#header-user-section .menu-card button:hover,
#header-user-section .menu-card a:hover{
  background:rgba(59,130,246,.07);color:var(--primary-color)
}

/* ——— Mobile ——— */
@media (max-width:768px){
  .charts-row-2{grid-template-columns:1fr!important;gap:15px!important}
  #page-content{padding:15px!important}
}

/* Hide Dash undo/redo */
._dash-undo-redo{display:none!important}
/* Force proper chart sizing on load */
.js-plotly-plot, .plotly, .plotly-graph-div {
    width: 100% !important;
    height: 350px !important;
    min-width: 0 !important;
    min-height: 350px !important;
}

/* Ensure containers are properly sized before charts load */
.chart-container {
    width: calc(50% - 10px) !important;
    min-width: 300px !important;
    max-width: calc(50% - 10px) !important;
    box-sizing: border-box !important;
    opacity: 0;
    animation: fadeInChart 0.5s ease-in-out 0.3s forwards;
}

@keyframes fadeInChart {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Charts row container */
.charts-row {
    display: flex !important;
    gap: 20px !important;
    width: 100% !important;
    flex-wrap: wrap !important;
}